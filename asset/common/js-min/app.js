// Copyright 2014 (Davide)
(function(){var g,aa=aa||{},k=this;function ba(){}function m(a){a.f=function(){return a.tb?a.tb:a.tb=new a}}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function n(a){return"array"==ca(a)}function da(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ea(a){return"function"==ca(a)}function ha(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var q="closure_uid_"+(1E9*Math.random()>>>0),ia=0;function ja(a,b,c){return a.call.apply(a.bind,arguments)}
function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return r.apply(null,arguments)}
function la(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var s=Date.now||function(){return+new Date};function t(a,b){function c(){}c.prototype=b.prototype;a.D=b.prototype;a.prototype=new c;a.Ac=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function u(){0!=ma&&(this[q]||(this[q]=++ia))}var ma=0;u.prototype.Pb=!1;var na;function oa(a){if(!pa.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(qa,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(ra,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(sa,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(ta,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(ua,"\x26#39;"));return a}var qa=/&/g,ra=/</g,sa=/>/g,ta=/"/g,ua=/'/g,pa=/[&<>"']/;function va(a,b){return a<b?-1:a>b?1:0}function wa(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}
function xa(a){var b=p(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var v=Array.prototype,ya=v.indexOf?function(a,b,c){return v.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},za=v.forEach?function(a,b,c){v.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Aa=v.filter?function(a,b,c){return v.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=p(a)?
a.split(""):a,l=0;l<d;l++)if(l in h){var R=h[l];b.call(c,R,l,a)&&(e[f++]=R)}return e};function Ba(a){var b;a:{b=Ca;for(var c=a.length,d=p(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:p(a)?a.charAt(b):a[b]}function Da(a,b){return 0<=ya(a,b)}function Ea(a,b){var c=ya(a,b),d;(d=0<=c)&&v.splice.call(a,c,1);return d}function Fa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ga(a,b,c,d){v.splice.apply(a,Ha(arguments,1))}function Ha(a,b,c){return 2>=arguments.length?v.slice.call(a,b):v.slice.call(a,b,c)};var Ia;a:{var Ja=k.navigator;if(Ja){var Ka=Ja.userAgent;if(Ka){Ia=Ka;break a}}Ia=""}function w(a){return-1!=Ia.indexOf(a)};var La;function Ma(){return k.navigator||null}var Na=w("Opera")||w("OPR"),x=w("Trident")||w("MSIE"),y=w("Gecko")&&!w("WebKit")&&!(w("Trident")||w("MSIE")),z=w("WebKit"),Oa=Ma();La=-1!=(Oa&&Oa.platform||"").indexOf("Mac");var Pa=!!Ma()&&-1!=(Ma().appVersion||"").indexOf("X11");function Qa(){var a=k.document;return a?a.documentMode:void 0}
var Ra=function(){var a="",b;if(Na&&k.opera)return a=k.opera.version,ea(a)?a():a;y?b=/rv\:([^\);]+)(\)|;)/:x?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:z&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Ia))?a[1]:"");return x&&(b=Qa(),b>parseFloat(a))?String(b):a}(),Sa={};
function A(a){var b;if(!(b=Sa[a])){b=0;for(var c=String(Ra).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",l=d[f]||"",R=RegExp("(\\d*)(\\D*)","g"),Uc=RegExp("(\\d*)(\\D*)","g");do{var fa=R.exec(h)||["","",""],ga=Uc.exec(l)||["","",""];if(0==fa[0].length&&0==ga[0].length)break;b=va(0==fa[1].length?0:parseInt(fa[1],10),0==ga[1].length?0:parseInt(ga[1],10))||va(0==fa[2].length,
0==ga[2].length)||va(fa[2],ga[2])}while(0==b)}b=Sa[a]=0<=b}return b}var Ta=k.document,Ua=Ta&&x?Qa()||("CSS1Compat"==Ta.compatMode?parseInt(Ra,10):5):void 0;var Va=!x||x&&9<=Ua,Wa=x&&!A("9");!z||A("528");y&&A("1.9b")||x&&A("8")||Na&&A("9.5")||z&&A("528");y&&!A("8")||x&&A("9");function B(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Q=!1;this.Gb=!0}B.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Gb=!1};function Xa(a){Xa[" "](a);return a}Xa[" "]=ba;function C(a,b){B.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.nb=this.state=null;a&&this.i(a,b)}t(C,B);
C.prototype.i=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(y){var e;a:{try{Xa(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=z||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=z||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;
this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.nb=a;a.defaultPrevented&&this.preventDefault()};
C.prototype.preventDefault=function(){C.D.preventDefault.call(this);var a=this.nb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Wa)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Ya="closure_listenable_"+(1E6*Math.random()|0);function Za(a){try{return!(!a||!a[Ya])}catch(b){return!1}}var $a=0;function ab(a,b,c,d,e){this.J=a;this.xa=null;this.src=b;this.type=c;this.ja=!!d;this.qa=e;this.key=++$a;this.R=this.ia=!1}function bb(a){a.R=!0;a.J=null;a.xa=null;a.src=null;a.qa=null};function cb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function db(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function eb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function fb(){var a=gb,b;for(b in a)return!1;return!0}var hb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function ib(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<hb.length;f++)c=hb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function D(a){this.src=a;this.j={};this.ca=0}D.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.j[f];a||(a=this.j[f]=[],this.ca++);var h=jb(a,b,d,e);-1<h?(b=a[h],c||(b.ia=!1)):(b=new ab(b,this.src,f,!!d,e),b.ia=c,a.push(b));return b};D.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.j))return!1;var e=this.j[a];b=jb(e,b,c,d);return-1<b?(bb(e[b]),v.splice.call(e,b,1),0==e.length&&(delete this.j[a],this.ca--),!0):!1};
function kb(a,b){var c=b.type;if(!(c in a.j))return!1;var d=Ea(a.j[c],b);d&&(bb(b),0==a.j[c].length&&(delete a.j[c],a.ca--));return d}D.prototype.Eb=function(a){a=a&&a.toString();var b=0,c;for(c in this.j)if(!a||c==a){for(var d=this.j[c],e=0;e<d.length;e++)++b,bb(d[e]);delete this.j[c];this.ca--}return b};D.prototype.U=function(a,b,c,d){a=this.j[a.toString()];var e=-1;a&&(e=jb(a,b,c,d));return-1<e?a[e]:null};
function jb(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.R&&f.J==b&&f.ja==!!c&&f.qa==d)return e}return-1};var lb="closure_lm_"+(1E6*Math.random()|0),mb={},nb=0;function E(a,b,c,d,e){if(n(b)){for(var f=0;f<b.length;f++)E(a,b[f],c,d,e);return null}c=ob(c);return Za(a)?a.e(b,c,d,e):pb(a,b,c,!1,d,e)}function pb(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=!!e,l=qb(a);l||(a[lb]=l=new D(a));c=l.add(b,c,d,e,f);if(c.xa)return c;d=rb();c.xa=d;d.src=a;d.J=c;a.addEventListener?a.addEventListener(b.toString(),d,h):a.attachEvent(sb(b.toString()),d);nb++;return c}
function rb(){var a=tb,b=Va?function(c){return a.call(b.src,b.J,c)}:function(c){c=a.call(b.src,b.J,c);if(!c)return c};return b}function ub(a,b,c,d,e){if(n(b)){for(var f=0;f<b.length;f++)ub(a,b[f],c,d,e);return null}c=ob(c);return Za(a)?a.zb(b,c,d,e):pb(a,b,c,!0,d,e)}function vb(a,b,c,d,e){if(n(b))for(var f=0;f<b.length;f++)vb(a,b[f],c,d,e);else c=ob(c),Za(a)?a.da(b,c,d,e):a&&(a=qb(a))&&(b=a.U(b,c,!!d,e))&&wb(b)}
function wb(a){if("number"==typeof a||!a||a.R)return!1;var b=a.src;if(Za(b))return kb(b.I,a);var c=a.type,d=a.xa;b.removeEventListener?b.removeEventListener(c,d,a.ja):b.detachEvent&&b.detachEvent(sb(c),d);nb--;(c=qb(b))?(kb(c,a),0==c.ca&&(c.src=null,b[lb]=null)):bb(a);return!0}function sb(a){return a in mb?mb[a]:mb[a]="on"+a}function xb(a,b,c,d){var e=1;if(a=qb(a))if(b=a.j[b.toString()])for(b=Fa(b),a=0;a<b.length;a++){var f=b[a];f&&f.ja==c&&!f.R&&(e&=!1!==yb(f,d))}return Boolean(e)}
function yb(a,b){var c=a.J,d=a.qa||a.src;a.ia&&wb(a);return c.call(d,b)}
function tb(a,b){if(a.R)return!0;if(!Va){var c;if(!(c=b))a:{c=["window","event"];for(var d=k,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new C(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(h){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,l=e.length-1;!c.Q&&0<=l;l--)c.currentTarget=e[l],d&=xb(e[l],f,!0,c);for(l=0;!c.Q&&l<e.length;l++)c.currentTarget=
e[l],d&=xb(e[l],f,!1,c)}return d}return yb(a,new C(b,this))}function qb(a){a=a[lb];return a instanceof D?a:null}var zb="__closure_events_fn_"+(1E9*Math.random()>>>0);function ob(a){return ea(a)?a:a[zb]||(a[zb]=function(b){return a.handleEvent(b)})};function F(){u.call(this);this.I=new D(this);this.Mb=this}t(F,u);F.prototype[Ya]=!0;g=F.prototype;g.Ya=null;g.bb=function(a){this.Ya=a};g.addEventListener=function(a,b,c,d){E(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){vb(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.Ya;if(c)for(b=[];c;c=c.Ya)b.push(c);var c=this.Mb,d=a.type||a;if(p(a))a=new B(a,c);else if(a instanceof B)a.target=a.target||c;else{var e=a;a=new B(d,c);ib(a,e)}var e=!0,f;if(b)for(var h=b.length-1;!a.Q&&0<=h;h--)f=a.currentTarget=b[h],e=Ab(f,d,!0,a)&&e;a.Q||(f=a.currentTarget=c,e=Ab(f,d,!0,a)&&e,a.Q||(e=Ab(f,d,!1,a)&&e));if(b)for(h=0;!a.Q&&h<b.length;h++)f=a.currentTarget=b[h],e=Ab(f,d,!1,a)&&e;return e};
g.e=function(a,b,c,d){return this.I.add(String(a),b,!1,c,d)};g.zb=function(a,b,c,d){return this.I.add(String(a),b,!0,c,d)};g.da=function(a,b,c,d){return this.I.remove(String(a),b,c,d)};function Ab(a,b,c,d){b=a.I.j[String(b)];if(!b)return!0;b=Fa(b);for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.R&&h.ja==c){var l=h.J,R=h.qa||h.src;h.ia&&kb(a.I,h);e=!1!==l.call(R,d)&&e}}return e&&!1!=d.Gb}g.U=function(a,b,c,d){return this.I.U(String(a),b,c,d)};function G(a,b){F.call(this);this.M=a||1;this.ba=b||k;this.Ja=r(this.wc,this);this.Va=s()}t(G,F);g=G.prototype;g.ma=!1;g.q=null;g.wc=function(){if(this.ma){var a=s()-this.Va;0<a&&a<0.8*this.M?this.q=this.ba.setTimeout(this.Ja,this.M-a):(this.q&&(this.ba.clearTimeout(this.q),this.q=null),this.dispatchEvent(H),this.ma&&(this.q=this.ba.setTimeout(this.Ja,this.M),this.Va=s()))}};g.start=function(){this.ma=!0;this.q||(this.q=this.ba.setTimeout(this.Ja,this.M),this.Va=s())};
g.stop=function(){this.ma=!1;this.q&&(this.ba.clearTimeout(this.q),this.q=null)};var H="tick";function I(a,b,c){if(ea(a))c&&(a=r(a,c));else if(a&&"function"==typeof a.handleEvent)a=r(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:k.setTimeout(a,b||0)};function Bb(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function Cb(a){if("function"==typeof a.oa)return a.oa();if(p(a))return a.split("");if(da(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return db(a)}
function Db(a,b){if("function"==typeof a.forEach)a.forEach(b,void 0);else if(da(a)||p(a))za(a,b,void 0);else{var c;if("function"==typeof a.T)c=a.T();else if("function"!=typeof a.oa)if(da(a)||p(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=eb(a);else c=void 0;for(var d=Cb(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}};function J(a,b,c){return Math.min(Math.max(a,b),c)};function Eb(a,b){this.B={};this.c=[];this.S=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Eb?(c=a.T(),d=a.oa()):(c=eb(a),d=db(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}g=Eb.prototype;g.oa=function(){Fb(this);for(var a=[],b=0;b<this.c.length;b++)a.push(this.B[this.c[b]]);return a};g.T=function(){Fb(this);return this.c.concat()};
g.remove=function(a){return Object.prototype.hasOwnProperty.call(this.B,a)?(delete this.B[a],this.S--,this.c.length>2*this.S&&Fb(this),!0):!1};function Fb(a){if(a.S!=a.c.length){for(var b=0,c=0;b<a.c.length;){var d=a.c[b];Object.prototype.hasOwnProperty.call(a.B,d)&&(a.c[c++]=d);b++}a.c.length=c}if(a.S!=a.c.length){for(var e={},c=b=0;b<a.c.length;)d=a.c[b],Object.prototype.hasOwnProperty.call(e,d)||(a.c[c++]=d,e[d]=1),b++;a.c.length=c}}
g.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.B,a)?this.B[a]:b};g.set=function(a,b){Object.prototype.hasOwnProperty.call(this.B,a)||(this.S++,this.c.push(a));this.B[a]=b};g.forEach=function(a,b){for(var c=this.T(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.lb=function(){return new Eb(this)};function Gb(){}Gb.prototype.kb=null;function Hb(a){var b;(b=a.kb)||(b={},Ib(a)&&(b[0]=!0,b[1]=!0),b=a.kb=b);return b};var Jb;function Kb(){}t(Kb,Gb);function Lb(a){return(a=Ib(a))?new ActiveXObject(a):new XMLHttpRequest}function Ib(a){if(!a.sb&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.sb=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.sb}Jb=new Kb;var Mb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?\x3d[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Nb=z;function Ob(a,b){if(Nb){Nb=!1;var c=k.location;if(c){var d=c.href;if(d&&(d=(d=Ob(3,d))&&decodeURIComponent(d))&&d!=c.hostname)throw Nb=!0,Error();}}return b.match(Mb)[a]||null};function Pb(a){F.call(this);this.headers=new Eb;this.Ga=a||null;this.L=!1;this.Fa=this.b=null;this.sa=this.Ua="";this.V=this.Qa=this.ra=this.Pa=!1;this.Da=0;this.Ca=null;this.Fb=Qb;this.eb=this.yc=!1}t(Pb,F);var Qb="",Rb=/^https?$/i,Sb=["POST","PUT"];g=Pb.prototype;
g.send=function(a,b,c,d){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Ua+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Ua=a;this.sa="";this.Pa=!1;this.L=!0;this.b=this.Ga?Lb(this.Ga):Lb(Jb);this.Fa=this.Ga?Hb(this.Ga):Hb(Jb);this.b.onreadystatechange=r(this.Bb,this);try{this.Qa=!0,this.b.open(b,String(a),!0),this.Qa=!1}catch(e){Tb(this,e);return}a=c||"";var f=this.headers.lb();d&&Db(d,function(a,b){f.set(b,a)});d=Ba(f.T());c=k.FormData&&a instanceof k.FormData;
!Da(Sb,b)||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");f.forEach(function(a,b){this.b.setRequestHeader(b,a)},this);this.Fb&&(this.b.responseType=this.Fb);"withCredentials"in this.b&&(this.b.withCredentials=this.yc);try{Ub(this),0<this.Da&&((this.eb=Vb(this.b))?(this.b.timeout=this.Da,this.b.ontimeout=r(this.Kb,this)):this.Ca=I(this.Kb,this.Da,this)),this.ra=!0,this.b.send(a),this.ra=!1}catch(h){Tb(this,h)}};
function Vb(a){return x&&A(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}function Ca(a){return"content-type"==a.toLowerCase()}g.Kb=function(){"undefined"!=typeof aa&&this.b&&(this.sa="Timed out after "+this.Da+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))};function Tb(a,b){a.L=!1;a.b&&(a.V=!0,a.b.abort(),a.V=!1);a.sa=b;Wb(a);Xb(a)}function Wb(a){a.Pa||(a.Pa=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
g.abort=function(){this.b&&this.L&&(this.L=!1,this.V=!0,this.b.abort(),this.V=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Xb(this))};g.Bb=function(){this.Pb||(this.Qa||this.ra||this.V?Yb(this):this.qc())};g.qc=function(){Yb(this)};
function Yb(a){if(a.L&&"undefined"!=typeof aa&&(!a.Fa[1]||4!=Zb(a)||2!=$b(a)))if(a.ra&&4==Zb(a))I(a.Bb,0,a);else if(a.dispatchEvent("readystatechange"),4==Zb(a)){a.L=!1;try{var b=$b(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=!0;break a;default:d=!1}if(!(c=d)){var e;if(e=0===b){var f=Ob(1,String(a.Ua));if(!f&&self.location)var h=self.location.protocol,f=h.substr(0,h.length-1);e=!Rb.test(f?f.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");
else{var l;try{l=2<Zb(a)?a.b.statusText:""}catch(R){l=""}a.sa=l+" ["+$b(a)+"]";Wb(a)}}finally{Xb(a)}}}function Xb(a){if(a.b){Ub(a);var b=a.b,c=a.Fa[0]?ba:null;a.b=null;a.Fa=null;a.dispatchEvent("ready");try{b.onreadystatechange=c}catch(d){}}}function Ub(a){a.b&&a.eb&&(a.b.ontimeout=null);"number"==typeof a.Ca&&(k.clearTimeout(a.Ca),a.Ca=null)}g.Ra=function(){return!!this.b};function Zb(a){return a.b?a.b.readyState:0}function $b(a){try{return 2<Zb(a)?a.b.status:-1}catch(b){return-1}};var ac=!x||x&&9<=Ua,bc=!y&&!x||x&&x&&9<=Ua||y&&A("1.9.1");x&&A("9");function cc(a){a=a.className;return p(a)&&a.match(/\S+/g)||[]}function dc(a,b){for(var c=cc(a),d=Ha(arguments,1),e=c.length+d.length,f=c,h=0;h<d.length;h++)Da(f,d[h])||f.push(d[h]);a.className=c.join(" ");return c.length==e}function ec(a,b){var c=cc(a),c=fc(c,Ha(arguments,1));a.className=c.join(" ")}function fc(a,b){return Aa(a,function(a){return!Da(b,a)})}function gc(a,b,c){for(var d=cc(a),e=!1,f=0;f<d.length;f++)d[f]==b&&(Ga(d,f--,1),e=!0);e&&(d.push(c),a.className=d.join(" "))}
function K(a,b){return Da(cc(a),b)}function L(a,b,c){c?dc(a,b):ec(a,b)};function hc(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}hc.prototype.lb=function(){return new hc(this.x,this.y)};hc.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};hc.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};function ic(a,b){return p(b)?a.getElementById(b):b}function M(a,b){var c=b||document,d=null;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):jc(a,b)[0])||null}
function jc(a,b){var c,d,e,f;c=document;c=b||c;if(c.querySelectorAll&&c.querySelector&&a)return c.querySelectorAll(""+(a?"."+a:""));if(a&&c.getElementsByClassName){var h=c.getElementsByClassName(a);return h}h=c.getElementsByTagName("*");if(a){f={};for(d=e=0;c=h[d];d++){var l=c.className;"function"==typeof l.split&&Da(l.split(/\s+/),a)&&(f[e++]=c)}f.length=e;return f}return h}
function kc(a,b){cb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in lc?a.setAttribute(lc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var lc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function N(a,b,c){var d=arguments,e=document,f=d[0],h=d[1];if(!ac&&h&&(h.name||h.type)){f=["\x3c",f];h.name&&f.push(' name\x3d"',oa(h.name),'"');if(h.type){f.push(' type\x3d"',oa(h.type),'"');var l={};ib(l,h);delete l.type;h=l}f.push("\x3e");f=f.join("")}f=e.createElement(f);h&&(p(h)?f.className=h:n(h)?dc.apply(null,[f].concat(h)):kc(f,h));2<d.length&&mc(e,f,d);return f}
function mc(a,b,c){function d(c){c&&b.appendChild(p(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];if(!da(f)||ha(f)&&0<f.nodeType)d(f);else{var h;a:{if(f&&"number"==typeof f.length){if(ha(f)){h="function"==typeof f.item||"string"==typeof f.item;break a}if(ea(f)){h="function"==typeof f.item;break a}}h=!1}za(h?Fa(f):f,d)}}}function nc(a){return bc&&void 0!=a.children?a.children:Aa(a.childNodes,function(a){return 1==a.nodeType})}function O(a){this.ka=a||k.document||document}
O.prototype.a=function(a){return ic(this.ka,a)};O.prototype.createElement=function(a){return this.ka.createElement(a)};O.prototype.createTextNode=function(a){return this.ka.createTextNode(String(a))};O.prototype.appendChild=function(a,b){a.appendChild(b)};function oc(a){u.call(this);this.v=a;this.c={}}t(oc,u);var pc=[];g=oc.prototype;g.e=function(a,b,c,d){n(b)||(b&&(pc[0]=b.toString()),b=pc);for(var e=0;e<b.length;e++){var f=E(a,b[e],c||this.handleEvent,d||!1,this.v||this);if(!f)break;this.c[f.key]=f}return this};g.zb=function(a,b,c,d){return qc(this,a,b,c,d)};function qc(a,b,c,d,e,f){if(n(c))for(var h=0;h<c.length;h++)qc(a,b,c[h],d,e,f);else{b=ub(b,c,d||a.handleEvent,e,f||a.v||a);if(!b)return a;a.c[b.key]=b}return a}
g.da=function(a,b,c,d,e){if(n(b))for(var f=0;f<b.length;f++)this.da(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.v||this,c=ob(c),d=!!d,b=Za(a)?a.U(b,c,d,e):a?(a=qb(a))?a.U(b,c,d,e):null:null,b&&(wb(b),delete this.c[b.key]);return this};g.Eb=function(){cb(this.c,wb);this.c={}};g.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function P(a,b){p(b)?rc(a,void 0,b):cb(b,la(rc,a))}function rc(a,b,c){var d;a:if(d=wa(c),void 0===a.style[d]&&(c=(z?"Webkit":y?"Moz":x?"ms":Na?"O":null)+xa(c),void 0!==a.style[c])){d=c;break a}d&&(a.style[d]=b)}function sc(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a};function tc(){}m(tc);tc.prototype.pc=0;function Q(a){F.call(this);this.Oa=a||na||(na=new O)}t(Q,F);g=Q.prototype;g.kc=tc.f();g.w=null;g.W=!1;g.la=null;g.Za=null;g.La=null;g.Ka=null;g.a=function(){return this.la};function S(a){a.pa||(a.pa=new oc(a));return a.pa}g.bb=function(a){if(this.Za&&this.Za!=a)throw Error("Method not supported");Q.D.bb.call(this,a)};
function uc(a,b){if(a.W)throw Error("Component already rendered");if(b){var c=9==b.nodeType?b:b.ownerDocument||b.document;a.Oa&&a.Oa.ka==c||(a.Oa=b?new O(9==b.nodeType?b:b.ownerDocument||b.document):na||(na=new O));a.G(b);a.H()}else throw Error("Invalid element to decorate");}g.G=function(a){this.la=a};g.H=function(){this.W=!0;vc(this,function(a){!a.W&&a.a()&&a.H()})};function wc(a){vc(a,function(a){a.W&&wc(a)});a.pa&&a.pa.Eb();a.W=!1}function vc(a,b){a.La&&za(a.La,b,void 0)}
g.removeChild=function(a,b){if(a){var c=p(a)?a:a.w||(a.w=":"+(a.kc.pc++).toString(36)),d;this.Ka&&c?(d=this.Ka,d=(c in d?d[c]:void 0)||null):d=null;a=d;if(c&&a){d=this.Ka;c in d&&delete d[c];Ea(this.La,a);b&&(wc(a),a.la&&(c=a.la)&&c.parentNode&&c.parentNode.removeChild(c));c=a;if(null==c)throw Error("Unable to set parent component");c.Za=null;Q.D.bb.call(c,null)}}if(!a)throw Error("Child is not in parent component");return a};var T,U,V;function xc(){Q.call(this);this.K=null;this.$=T.g;this.na=this.yb=this.Cb=null}t(xc,Q);
xc.prototype.i=function(){this.K=N("div","",[N("div","deko-pug"),N("div","module life x3",[N("div","hearts")]),N("div","module points"),N("div","module level"),N("div","module boost",[N("div","bar-wrapper",[N("div","bar empty")])]),N("div","game-handlers",[N("div","game-state pause")])]);var a=M("boost",this.K);this.$.addElement(a,"boost-cmp");this.Cb=M("points",this.K);this.yb=M("level",this.K);this.$.addElement(this.K,"stat-display");yc(this);this.$.addElement(this.Cb,"point-count-el");this.$.addElement(this.yb,
"level-count-el");T.zc=this;a=T.g.a("stat-display")[0];a=M("game-handlers",a);this.na=M("game-state",a);S(this).e(this.na,"click",this.$b);a=zc.f();S(this).e(a,[Ac,Bc],this.ic)};function yc(a){a.$.a("game-section")[0].appendChild(a.K);I(function(){L(this.K,"visible",!0)},0,a)}xc.prototype.ic=function(a){"pause"==a.type?gc(this.na,"pause","continue"):"continue"==a.type&&gc(this.na,"continue","pause")};xc.prototype.$b=function(){Cc()};function W(){Q.call(this);this.ib=new G(2E3);this.Ob=[];this.mc=5}t(W,Q);W.prototype.G=function(a){W.D.G.call(this,a);for(a=1;a<=this.mc;a++){var b=N("div","cloud c"+a);this.a().appendChild(b);this.Ob.push(b)}this.ib.start()};W.prototype.H=function(){W.D.H.call(this);S(this).e(this.ib,H,this.xc)};W.prototype.xc=function(){};function Dc(a,b,c){B.call(this,a);this.oc=b;this.vb=c||!1}t(Dc,B);function X(){Q.call(this);this.Jb=null;this.za=0;this.cb=new G(5)}t(X,Q);m(X);X.prototype.G=function(a){X.D.G.call(this,a);this.Jb=M("playground")};X.prototype.H=function(){X.D.H.call(this);S(this).e(X.f(),"setmsg",this.Rb);S(this).e(this.cb,H,this.gc)};X.prototype.Rb=function(a){var b=a.oc;this.a().innerHTML=b;Ec(this,a)};
function Ec(a,b){L(a.a(),"warning",b.vb);b.vb&&a.cb.start();L(a.a(),"active",!0);I(function(){L(this.a(),"inactive",!0);I(function(){L(this.a(),"inactive",!1);L(this.a(),"active",!1)},400,this)},1500,a)}X.prototype.gc=function(){var a;a=this.za%2?"2px, -2px":"-2px, 2px";30<=this.za&&(this.cb.stop(),this.za=0,a="0px, 0px");P(this.Jb,{"-webkit-transform":"translate("+a+")"});this.za++};function Fc(a){B.call(this,a)}t(Fc,B);var Ac="pause",Bc="continue";function zc(){F.call(this)}t(zc,F);m(zc);function Gc(){this.register={elements:[]}}m(Gc);Gc.prototype.addElement=function(a,b){b||(b="");dc(a,b);this.register.elements.push(a)};Gc.prototype.a=function(a){for(var b=[],c=0;c<this.register.elements.length;c++)K(this.register.elements[c],a)&&b.push(this.register.elements[c]);return b};function Hc(){Q.call(this);this.Ma=this.ta=null}t(Hc,Q);Hc.prototype.i=function(){this.ta=ic(document,"layer");this.Ma=M("content",this.ta);var a=M("close",this.ta);S(this).e(a,"click",function(){Ic(this,!1)})};Hc.prototype.Yb=function(a){var b;a=a.target;try{b=a.b?a.b.responseText:""}catch(c){b=""}this.Ma.innerHTML=b};function Ic(a,b){L(a.ta,"active",b);if(b){var c=N("div","loading-circle");a.Ma.appendChild(c)}};function Jc(){Q.call(this);this.C=null;this.xb=new Hc}t(Jc,Q);function Kc(a){a.C=ic(document,"menu");L(a.C,"inactive",!1);a.xb.i()}function Lc(a){Kc(a);var b=N("div","submenu main",[N("div","button","Start"),N("div","button","Howto play")]);Mc(a,b,a.rb)}function Mc(a,b,c){for(var d=nc(b),e=0;e<d.length;e++)S(a).e(d[e],"click",c);a=ic(document,"menu");a.innerHTML="";a.appendChild(b)}
Jc.prototype.rb=function(a){switch(a.target.innerHTML){case "Start":this.dispatchEvent(Nc);L(this.C,"inactive",!0);break;case "Howto play":a=this.xb;var b=new Pb;b.send("/app/views/howto.php");Ic(a,!0);S(a).e(b,"success",a.Yb)}};Jc.prototype.ec=function(a){switch(a.target.innerHTML){case "Continue":this.dispatchEvent(Oc);break;case "Howto play":this.rb(a)}};var Nc="mainStart",Oc="pauseContinue";function Pc(){this.v=zc.f();this.C=new Jc}m(Pc);Pc.prototype.i=function(){E(this.C,Oc,this.Hb,!1,this);E(window,"blur",this.Ib,!1,this)};function Cc(){var a=T.ob;U?a.Ib():a.Hb()}Pc.prototype.Ib=function(){if(U){U=!1;Qc(!0);this.v.dispatchEvent(new Fc(Ac));var a=this.C;Kc(a);var b=N("div","submenu main",[N("div","button","Continue"),N("div","button","Howto play")]);Mc(a,b,a.ec)}};Pc.prototype.Hb=function(){U||(U=!0,Qc(!1),this.v.dispatchEvent(new Fc(Bc)),L(this.C.C,"inactive",!0))};function Rc(){F.call(this);this.X=!0;this.ya=this.ua=!1;Y={}}var Y;t(Rc,F);m(Rc);Rc.prototype.i=function(){E(window,"keydown",this.qb,!1,this);E(window,"keyup",this.qb,!1,this);Y={walk:!1,boost:!1,jump:!1}};function Qc(a){var b=T.A;b.X=a;b.dispatchEvent("stopwalkleft");b.dispatchEvent("stopwalkright")}
Rc.prototype.qb=function(a){switch(a.keyCode){case 37:if("keydown"==a.type){if(this.X)break;this.ua||(this.ua=!0,this.dispatchEvent("walkleft"),Y.walk=!0)}else"keyup"==a.type&&this.ua&&(this.ua=!1,this.dispatchEvent("stopwalkleft"),Y.walk=!1);break;case 39:if("keydown"==a.type){if(this.X)break;this.ya||(this.ya=!0,this.dispatchEvent("walkright"),Y.walk=!0)}else"keyup"==a.type&&this.ya&&(this.ya=!1,this.dispatchEvent("stopwalkright"),Y.walk=!1);break;case 32:if(this.X)break;"keyup"==a.type&&this.dispatchEvent("jump");
break;case 66:if(this.X)break;"keydown"==a.type&&(this.dispatchEvent("boost"),Y.boost=!0);break;case 80:"keyup"==a.type&&Cc()}};function Sc(){F.call(this);this.m=Tc;this.mb=this.startTime=null}t(Sc,F);var Tc=0;Sc.prototype.n=function(a){this.dispatchEvent(a)};function Vc(a,b,c){u.call(this);this.Ab=a;this.M=b||0;this.v=c;this.Nb=r(this.Qb,this)}t(Vc,u);g=Vc.prototype;g.w=0;g.start=function(a){this.stop();this.w=I(this.Nb,void 0!==a?a:this.M)};g.stop=function(){this.Ra()&&k.clearTimeout(this.w);this.w=0};g.Ra=function(){return 0!=this.w};g.Qb=function(){this.w=0;this.Ab&&this.Ab.call(this.v)};var gb={},Wc=null;function Xc(a){a=a[q]||(a[q]=++ia);delete gb[a];fb()&&Wc&&Wc.stop()}function Yc(){Wc||(Wc=new Vc(function(){Zc()},20));var a=Wc;a.Ra()||a.start()}function Zc(){var a=s();cb(gb,function(b){$c(b,a)});fb()||Yc()};function ad(a,b,c,d){Sc.call(this);if(!n(a)||!n(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.aa=a;this.Sb=b;this.duration=c;this.hb=d;this.coords=[]}t(ad,Sc);g=ad.prototype;g.l=0;
g.play=function(a){if(a||this.m==Tc)this.l=0,this.coords=this.aa;else if(1==this.m)return!1;Xc(this);this.startTime=a=s();-1==this.m&&(this.startTime-=this.duration*this.l);this.mb=this.startTime+this.duration;this.l||this.n("begin");this.n("play");-1==this.m&&this.n("resume");this.m=1;var b=this[q]||(this[q]=++ia);b in gb||(gb[b]=this);Yc();$c(this,a);return!0};g.stop=function(a){Xc(this);this.m=Tc;a&&(this.l=1);bd(this,this.l);this.n("stop");this.n("end")};
g.pause=function(){1==this.m&&(Xc(this),this.m=-1,this.n("pause"))};function $c(a,b){a.l=(b-a.startTime)/(a.mb-a.startTime);1<=a.l&&(a.l=1);bd(a,a.l);1==a.l?(a.m=Tc,Xc(a),a.n("finish"),a.n("end")):1==a.m&&a.n("animate")}function bd(a,b){ea(a.hb)&&(b=a.hb(b));a.coords=Array(a.aa.length);for(var c=0;c<a.aa.length;c++)a.coords[c]=(a.Sb[c]-a.aa[c])*b+a.aa[c]}g.n=function(a){this.dispatchEvent(new cd(a,this))};
function cd(a,b){B.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.l=b.l;this.state=b.m}t(cd,B);function Z(){Q.call(this);this.Xa=new G(10);this.Ta=new G(10);this.Ea=new G(V.pug.walkAnimationMs);this.gb=[];this.Z="";this.Ba=V.pug.moveSpeed;this.wb=V.pug.jumpSpeed;this.nc=V.pug.maxJumpHeight;this.s={};this.N={};this.Sa=!1;this.d={};this.h={};this.F=null;this.fa=this.ga=!1;this.Ha=new ad([0,1],[0,105],V.module.boost.reloadingDelay);this.Ia=new G(10);this.ha=0}t(Z,Q);m(Z);g=Z.prototype;
g.G=function(a){Z.D.G.call(this,a);var b=T.g.a("game-section")[0];this.d.left=a.offsetLeft;this.h.bottom=b.offsetHeight-(a.offsetTop+a.offsetHeight);this.s={min:0,max:b.offsetWidth-a.offsetWidth};this.N={min:this.h.bottom,max:b.offsetHeight-a.offsetHeight};this.gb=[0,-62,-124,-185];a=T.g.a("boost-cmp")[0];this.F=M("bar",a)};
g.H=function(){S(this).e(this.Xa,H,this.dc);S(this).e(this.Ta,H,this.ac);S(this).e(this.Ea,H,this.jc);S(this).e(this.Ha,"animate",this.Vb);S(this).e(this.Ha,"end",this.Ub);S(this).e(this.Ia,H,this.Wb)};
g.dc=function(){"left"==this.Z?this.d.left-=this.Ba:"right"==this.Z&&(this.d.left+=this.Ba);this.d.left=J(this.d.left,this.s.min,this.s.max);this.d.left<=this.s.min||this.d.left>=this.s.max?(L(this.a(),"walking",!1),this.Ea.stop()):(L(this.a(),"walking",!0),this.Ea.start());P(this.a(),{left:this.d.left+"px"})};function dd(a,b){a.Z=b;a.Xa.start();"right"==b?L(a.a(),"right",!0):L(a.a(),"right",!1)}g.stop=function(){this.Xa.stop();this.Ea.stop();L(this.a(),"walking",!1)};
g.lc=function(){this.Sa||(this.Ta.start(),L(this.a(),"jumping",!0),this.Sa=!0)};g.jb=function(){this.ga||this.fa?this.ga||!this.fa||K(this.a(),"jumping")||(this.stop(),Qc(!0),this.Ia.start(),ed(this)):ed(this)};
g.Wb=function(){"left"==this.Z?this.d.left-=this.Ba*V.module.boost.speedIncicator:"right"==this.Z&&(this.d.left+=this.Ba*V.module.boost.speedIncicator);this.h.bottom=this.ha<V.module.boost.maxCount/2?this.h.bottom+V.module.boost.pixelY:this.h.bottom-V.module.boost.pixelY;this.d.left=J(this.d.left,this.s.min,this.s.max);P(this.a(),{left:this.d.left+"px",bottom:this.h.bottom+"px"});this.ha++;if(this.ha>=V.module.boost.maxCount||this.d.left==this.s.max||this.d.left==this.s.min)this.Ia.stop(),this.ha=
0,P(this.a(),{bottom:this.N.min+"px"}),Z.f().dispatchEvent(fd),Qc(!1)};g.Vb=function(a){a=Number(J(a.y,1,100).toFixed(2));80<a&&(L(this.F,"loading",!1),L(this.F,"loaded",!0));P(this.F,{width:a+"%"})};g.Ub=function(){this.ga=!1;this.fa=!0;L(this.F,"loading",!1);X.f().dispatchEvent(new Dc("setmsg","Boost loaded"))};function ed(a){a.Ha.play();a.ga=!0;a.fa=!1;L(a.F,"loading",!0);L(a.F,"empty",!1)}
g.jc=function(){this.fb=this.gb[this.fb+1]?this.fb+1:0;P(this.a(),{"background-position":"0 "+this.gb[this.fb]+"px"})};g.ac=function(){this.h.bottom<=this.nc&&!K(this.a(),"jumping-down")?this.h.bottom+=this.wb:(this.h.bottom-=1.5*this.wb,L(this.a(),"jumping-down",!0));this.h.bottom=J(this.h.bottom,this.N.min,this.N.max);P(this.a(),{bottom:this.h.bottom+"px"});this.h.bottom<=this.N.min&&(this.Ta.stop(),L(this.a(),"jumping",!1),L(this.a(),"jumping-down",!1),this.h.bottom=this.N.min,this.Sa=!1)};
var fd="stopboost";function gd(){this.o=null;this.p=new Z}m(gd);gd.prototype.i=function(){this.o=N("div","pug-player",[N("div","mouth")]);var a=T.g.a("game-section")[0];T.g.addElement(this.o);a.appendChild(this.o);hd(this);uc(this.p,this.o);this.p.jb()};
function hd(a){E(T.A,"walkleft",function(){dd(this.p,"left")},!1,a);E(T.A,"walkright",function(){dd(this.p,"right")},!1,a);E(T.A,"stopwalkleft",function(){id(this,"left")},!1,a);E(T.A,"stopwalkright",function(){id(this,"right")},!1,a);E(T.A,"jump",a.bc,!1,a);E(T.A,"boost",a.Xb,!1,a);E(Z.f(),fd,a.Tb,!1,a)}function id(a,b){(K(a.o,"right")&&"right"==b||!K(a.o,"right")&&"left"==b)&&a.p.stop()}gd.prototype.bc=function(){this.p.lc()};gd.prototype.Xb=function(){this.p.jb()};
gd.prototype.Tb=function(){Y.boost=!1;Y.walk?K(this.o,"right")?dd(this.p,"right"):K(this.o,"right")||dd(this.p,"left"):K(this.o,"right")?id(this,"right"):K(this.o,"right")||id(this,"left")};function jd(){Q.call(this);this.u=this.k=null;this.p=Z.f();this.ub=!1}t(jd,Q);
jd.prototype.pb=function(a){var b=T.g.a("pug-player")[0],c=M("mouth",b),d=b.offsetTop,e=b.offsetTop+c.offsetHeight,f=K(b,"right")?b.offsetLeft+b.offsetWidth-c.offsetWidth:b.offsetLeft,b=K(b,"right")?b.offsetLeft+b.offsetWidth:b.offsetLeft+c.offsetWidth,c=this.k.offsetTop+this.k.offsetHeight/2,h=this.k.offsetLeft+this.k.offsetWidth/2;c>d&&c<e&&h>f&&h<b&&(this.ub=!0,L(this.k,"eaten",!0),this.Na());P(this.k,{top:Number(a.y.toFixed(0))+"px"})};
jd.prototype.Na=function(){S(this).da(this.u,"animate",this.pb);S(this).da(this.u,"end",this.Na);this.ub?this.dispatchEvent(kd):this.dispatchEvent(ld)};var ld="missed",kd="eaten";function md(a,b){B.call(this,a);this.Db=b}t(md,B);function nd(){F.call(this);this.t=[];this.r={};this.uc=V.rain.spawnInterval;this.O=this.ea=this.Aa=null;this.P=0}t(nd,F);m(nd);g=nd.prototype;g.i=function(){this.r={xS:0,xE:T.g.a("game-section")[0].offsetWidth,yS:0,yE:T.g.a("game-section")[0].offsetHeight};this.ea=N("div","rain-wrapper");T.g.a("game-section")[0].appendChild(this.ea);T.g.addElement(this.ea);this.Aa=new G(this.uc);E(this.Aa,H,this.hc,!1,this);var a=zc.f();E(a,Ac,this.stop,!1,this);E(a,Bc,this.start,!1,this)};
g.start=function(){this.Aa.start();for(var a=0;a<this.t.length;a++)this.t[a].u.play()};g.stop=function(){this.Aa.stop();for(var a=0;a<this.t.length;a++)this.t[a].u.pause()};
g.hc=function(){var a=0;this.O?this.O.k.offsetLeft<this.r.xE/2?a=Number(this.O.k.offsetLeft+this.r.xE/2*Math.random()):this.O.k.offsetLeft>this.r.xE/2&&(a=Number(this.O.k.offsetLeft-this.r.xE/2*Math.random())):a=Number((Math.random()*this.r.xE).toFixed(0));var b=Number(this.r.yE+V.rain.defaultSize),a=J(a,this.r.xS,this.r.xE-V.rain.defaultSize),a=new hc(a,b),b=new jd,c=N("div","drop "+V.rain.dropClasses[Math.floor(Math.random()*V.rain.dropClasses.length)]),d=a.x,e,f=y&&(La||Pa)&&A("1.9");d instanceof
hc?(e=d.x,d=d.y):(e=d,d=-50);c.style.left=sc(e,f);c.style.top=sc(d,f);T.g.a("rain-wrapper")[0].appendChild(c);b.k=c;b.u=new ad([a.x,-50],[0,a.y],V.rain.initialFallSpeed);S(b).e(b.u,"animate",b.pb);S(b).e(b.u,"end",b.Na);b.u.play();this.O=b;this.t.push(b);ub(b,ld,this.cc,!1,this);ub(b,kd,this.Zb,!1,this)};
g.cc=function(a){3>this.P&&(this.P+=1);X.f().dispatchEvent(new Dc("setmsg","Lost life! "+J(3-this.P,0,3)+" left",!0));var b=T.g.a("stat-display")[0],b=M("life",b);gc(b,"x"+Number(3-this.P+1),"x"+Number(3-this.P));this.t.splice(this.t.indexOf(a.target),1);I(function(){this.ea.removeChild(a.target.k)},200,this)};g.Zb=function(a){this.dispatchEvent(new md("add",a.target.k.offsetWidth));this.t.splice(this.t.indexOf(a.target),0);I(function(){this.ea.removeChild(a.target.k)},0,this)};function od(){F.call(this);this.Wa={};this.va=this.wa=this.Y=this.$a=0}t(od,F);m(od);od.prototype.i=function(a){a.push(this);this.Wa={points:T.g.a("point-count-el")[0],level:T.g.a("level-count-el")[0]};this.va=V.levels[0][0];for(var b=0;b<a.length;b++)E(a[b],"add",this.fc,!1,this);this.dispatchEvent(new md("add","0"));pd(this,!1)};
od.prototype.fc=function(a){this.$a+=Number(a.Db);this.Y+=Number(a.Db);this.Wa.points.innerHTML=this.$a;a=V.levels;for(var b=!1,c=0;c<a.length;c++)if(a[c][1]==this.wa+1&&(b=!0,this.va=a[c][0],this.Y>=this.va)){pd(this,!0);break}b||this.Y>=this.va&&pd(this,!0)};function pd(a,b){a.Y=0;a.wa+=1;a.Wa.level.innerHTML=a.wa;b&&X.f().dispatchEvent(new Dc("setmsg","Level up!"))};function qd(){F.call(this);T={};U=!1}t(qd,F);qd.prototype.start=function(){T.g=Gc.f();T.g.addElement(ic(document,"game"),"game-section");T.Lb=new X;uc(T.Lb,ic(document,"action-msg"));T.vc=new xc;T.vc.i();T.ob=Pc.f();T.ob.i();T.A=Rc.f();T.A.i();T.tc=gd.f();T.tc.i();T.ab=nd.f();T.ab.i();T.sc=od.f();T.sc.i([T.ab]);I(this.rc,100,this)};qd.prototype.rc=function(){T.ab.start();Qc(!1);var a=N("div","cloud-wrapper");T.g.a("game-section")[0].appendChild(a);uc(new W,a);U=!0};function rd(){sd(this)}function sd(a){var b=new Pb;b.send("app/layout/jsonConfig.php");ub(b,"success",function(a){a=a.target;V=a.b?Bb(a.b.responseText):void 0;td(this)},!1,a)}function td(a){var b=new Jc;Lc(b);E(b,Nc,function(){(new qd).start()},!1,a)}function ud(){new rd}var vd=["bp","Initialize"],$=k;vd[0]in $||!$.execScript||$.execScript("var "+vd[0]);for(var wd;vd.length&&(wd=vd.shift());)vd.length||void 0===ud?$=$[wd]?$[wd]:$[wd]={}:$[wd]=ud;})();