// Copyright 2014 (Davide)
(function(){var g,aa=aa||{},k=this;function ba(){}function l(a){a.c=function(){return a.Eb?a.Eb:a.Eb=new a}}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function n(a){return"array"==ca(a)}function da(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ea(a){return"function"==ca(a)}function fa(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ga="closure_uid_"+(1E9*Math.random()>>>0),ha=0;function ia(a,b,c){return a.call.apply(a.bind,arguments)}
function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return q.apply(null,arguments)}
function ka(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var la=Date.now||function(){return+new Date};function r(a,b){function c(){}c.prototype=b.prototype;a.K=b.prototype;a.prototype=new c;a.Qc=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function s(){0!=ma&&(this[ga]||(this[ga]=++ha))}var ma=0;s.prototype.Ub=!1;var na;function oa(a){if(!ra.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(sa,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(ta,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(ua,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(va,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(wa,"\x26#39;"));return a}var sa=/&/g,ta=/</g,ua=/>/g,va=/"/g,wa=/'/g,ra=/[&<>"']/;function xa(a,b){return a<b?-1:a>b?1:0}function ya(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}
function za(a){var b=p(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var t=Array.prototype,Aa=t.indexOf?function(a,b,c){return t.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ba=t.forEach?function(a,b,c){t.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ca=t.filter?function(a,b,c){return t.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=p(a)?
a.split(""):a,m=0;m<d;m++)if(m in h){var T=h[m];b.call(c,T,m,a)&&(e[f++]=T)}return e};function Da(a){var b;a:{b=Ea;for(var c=a.length,d=p(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:p(a)?a.charAt(b):a[b]}function Fa(a,b){return 0<=Aa(a,b)}function Ga(a,b){var c=Aa(a,b),d;(d=0<=c)&&t.splice.call(a,c,1);return d}function Ha(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ia(a,b,c,d){t.splice.apply(a,Ja(arguments,1))}function Ja(a,b,c){return 2>=arguments.length?t.slice.call(a,b):t.slice.call(a,b,c)};var Ka;a:{var La=k.navigator;if(La){var Ma=La.userAgent;if(Ma){Ka=Ma;break a}}Ka=""}function u(a){return-1!=Ka.indexOf(a)};var Na;function Oa(){return k.navigator||null}var Pa=u("Opera")||u("OPR"),v=u("Trident")||u("MSIE"),w=u("Gecko")&&!u("WebKit")&&!(u("Trident")||u("MSIE")),x=u("WebKit"),Qa=Oa();Na=-1!=(Qa&&Qa.platform||"").indexOf("Mac");var Ra=!!Oa()&&-1!=(Oa().appVersion||"").indexOf("X11");function Sa(){var a=k.document;return a?a.documentMode:void 0}
var Ta=function(){var a="",b;if(Pa&&k.opera)return a=k.opera.version,ea(a)?a():a;w?b=/rv\:([^\);]+)(\)|;)/:v?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:x&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Ka))?a[1]:"");return v&&(b=Sa(),b>parseFloat(a))?String(b):a}(),Ua={};
function y(a){var b;if(!(b=Ua[a])){b=0;for(var c=String(Ta).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",m=d[f]||"",T=RegExp("(\\d*)(\\D*)","g"),nd=RegExp("(\\d*)(\\D*)","g");do{var pa=T.exec(h)||["","",""],qa=nd.exec(m)||["","",""];if(0==pa[0].length&&0==qa[0].length)break;b=xa(0==pa[1].length?0:parseInt(pa[1],10),0==qa[1].length?0:parseInt(qa[1],10))||xa(0==pa[2].length,
0==qa[2].length)||xa(pa[2],qa[2])}while(0==b)}b=Ua[a]=0<=b}return b}var Va=k.document,Wa=Va&&v?Sa()||("CSS1Compat"==Va.compatMode?parseInt(Ta,10):5):void 0;var Xa=!v||v&&9<=Wa,Ya=v&&!y("9");!x||y("528");w&&y("1.9b")||v&&y("8")||Pa&&y("9.5")||x&&y("528");w&&!y("8")||v&&y("9");function z(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Y=!1;this.Ob=!0}z.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Ob=!1};function Za(a){Za[" "](a);return a}Za[" "]=ba;function $a(a,b){z.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.zb=this.state=null;a&&this.g(a,b)}r($a,z);
$a.prototype.g=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(w){var e;a:{try{Za(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=x||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=x||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;
this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.zb=a;a.defaultPrevented&&this.preventDefault()};
$a.prototype.preventDefault=function(){$a.K.preventDefault.call(this);var a=this.zb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ya)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var ab="closure_listenable_"+(1E6*Math.random()|0);function bb(a){try{return!(!a||!a[ab])}catch(b){return!1}}var cb=0;function db(a,b,c,d,e){this.R=a;this.Ha=null;this.src=b;this.type=c;this.ua=!!d;this.Ba=e;this.key=++cb;this.Z=this.ta=!1}function eb(a){a.Z=!0;a.R=null;a.Ha=null;a.src=null;a.Ba=null};function fb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function gb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function hb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ib(){var a=jb,b;for(b in a)return!1;return!0}var kb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function lb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<kb.length;f++)c=kb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function A(a){this.src=a;this.j={};this.oa=0}A.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.j[f];a||(a=this.j[f]=[],this.oa++);var h=mb(a,b,d,e);-1<h?(b=a[h],c||(b.ta=!1)):(b=new db(b,this.src,f,!!d,e),b.ta=c,a.push(b));return b};A.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.j))return!1;var e=this.j[a];b=mb(e,b,c,d);return-1<b?(eb(e[b]),t.splice.call(e,b,1),0==e.length&&(delete this.j[a],this.oa--),!0):!1};
function nb(a,b){var c=b.type;if(!(c in a.j))return!1;var d=Ga(a.j[c],b);d&&(eb(b),0==a.j[c].length&&(delete a.j[c],a.oa--));return d}A.prototype.Mb=function(a){a=a&&a.toString();var b=0,c;for(c in this.j)if(!a||c==a){for(var d=this.j[c],e=0;e<d.length;e++)++b,eb(d[e]);delete this.j[c];this.oa--}return b};A.prototype.ea=function(a,b,c,d){a=this.j[a.toString()];var e=-1;a&&(e=mb(a,b,c,d));return-1<e?a[e]:null};
function mb(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Z&&f.R==b&&f.ua==!!c&&f.Ba==d)return e}return-1};var ob="closure_lm_"+(1E6*Math.random()|0),pb={},qb=0;function B(a,b,c,d,e){if(n(b)){for(var f=0;f<b.length;f++)B(a,b[f],c,d,e);return null}c=rb(c);return bb(a)?a.d(b,c,d,e):sb(a,b,c,!1,d,e)}function sb(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=!!e,m=tb(a);m||(a[ob]=m=new A(a));c=m.add(b,c,d,e,f);if(c.Ha)return c;d=ub();c.Ha=d;d.src=a;d.R=c;a.addEventListener?a.addEventListener(b.toString(),d,h):a.attachEvent(vb(b.toString()),d);qb++;return c}
function ub(){var a=wb,b=Xa?function(c){return a.call(b.src,b.R,c)}:function(c){c=a.call(b.src,b.R,c);if(!c)return c};return b}function xb(a,b,c,d,e){if(n(b)){for(var f=0;f<b.length;f++)xb(a,b[f],c,d,e);return null}c=rb(c);return bb(a)?a.hb(b,c,d,e):sb(a,b,c,!0,d,e)}function yb(a,b,c,d,e){if(n(b))for(var f=0;f<b.length;f++)yb(a,b[f],c,d,e);else c=rb(c),bb(a)?a.pa(b,c,d,e):a&&(a=tb(a))&&(b=a.ea(b,c,!!d,e))&&zb(b)}
function zb(a){if("number"==typeof a||!a||a.Z)return!1;var b=a.src;if(bb(b))return nb(b.P,a);var c=a.type,d=a.Ha;b.removeEventListener?b.removeEventListener(c,d,a.ua):b.detachEvent&&b.detachEvent(vb(c),d);qb--;(c=tb(b))?(nb(c,a),0==c.oa&&(c.src=null,b[ob]=null)):eb(a);return!0}function vb(a){return a in pb?pb[a]:pb[a]="on"+a}function Ab(a,b,c,d){var e=1;if(a=tb(a))if(b=a.j[b.toString()])for(b=Ha(b),a=0;a<b.length;a++){var f=b[a];f&&f.ua==c&&!f.Z&&(e&=!1!==Bb(f,d))}return Boolean(e)}
function Bb(a,b){var c=a.R,d=a.Ba||a.src;a.ta&&zb(a);return c.call(d,b)}
function wb(a,b){if(a.Z)return!0;if(!Xa){var c;if(!(c=b))a:{c=["window","event"];for(var d=k,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new $a(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(h){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,m=e.length-1;!c.Y&&0<=m;m--)c.currentTarget=e[m],d&=Ab(e[m],f,!0,c);for(m=0;!c.Y&&m<e.length;m++)c.currentTarget=
e[m],d&=Ab(e[m],f,!1,c)}return d}return Bb(a,new $a(b,this))}function tb(a){a=a[ob];return a instanceof A?a:null}var Cb="__closure_events_fn_"+(1E9*Math.random()>>>0);function rb(a){return ea(a)?a:a[Cb]||(a[Cb]=function(b){return a.handleEvent(b)})};function C(){s.call(this);this.P=new A(this);this.Rb=this}r(C,s);C.prototype[ab]=!0;g=C.prototype;g.jb=null;g.nb=function(a){this.jb=a};g.addEventListener=function(a,b,c,d){B(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){yb(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.jb;if(c)for(b=[];c;c=c.jb)b.push(c);var c=this.Rb,d=a.type||a;if(p(a))a=new z(a,c);else if(a instanceof z)a.target=a.target||c;else{var e=a;a=new z(d,c);lb(a,e)}var e=!0,f;if(b)for(var h=b.length-1;!a.Y&&0<=h;h--)f=a.currentTarget=b[h],e=Db(f,d,!0,a)&&e;a.Y||(f=a.currentTarget=c,e=Db(f,d,!0,a)&&e,a.Y||(e=Db(f,d,!1,a)&&e));if(b)for(h=0;!a.Y&&h<b.length;h++)f=a.currentTarget=b[h],e=Db(f,d,!1,a)&&e;return e};
g.d=function(a,b,c,d){return this.P.add(String(a),b,!1,c,d)};g.hb=function(a,b,c,d){return this.P.add(String(a),b,!0,c,d)};g.pa=function(a,b,c,d){return this.P.remove(String(a),b,c,d)};function Db(a,b,c,d){b=a.P.j[String(b)];if(!b)return!0;b=Ha(b);for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.Z&&h.ua==c){var m=h.R,T=h.Ba||h.src;h.ta&&nb(a.P,h);e=!1!==m.call(T,d)&&e}}return e&&!1!=d.Ob}g.ea=function(a,b,c,d){return this.P.ea(String(a),b,c,d)};function D(a,b){C.call(this);this.U=a||1;this.na=b||k;this.Sa=q(this.Mc,this);this.gb=la()}r(D,C);g=D.prototype;g.wa=!1;g.u=null;g.Mc=function(){if(this.wa){var a=la()-this.gb;0<a&&a<0.8*this.U?this.u=this.na.setTimeout(this.Sa,this.U-a):(this.u&&(this.na.clearTimeout(this.u),this.u=null),this.dispatchEvent(E),this.wa&&(this.u=this.na.setTimeout(this.Sa,this.U),this.gb=la()))}};g.start=function(){this.wa=!0;this.u||(this.u=this.na.setTimeout(this.Sa,this.U),this.gb=la())};
g.stop=function(){this.wa=!1;this.u&&(this.na.clearTimeout(this.u),this.u=null)};var E="tick";function F(a,b,c){if(ea(a))c&&(a=q(a,c));else if(a&&"function"==typeof a.handleEvent)a=q(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:k.setTimeout(a,b||0)};function Eb(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function Fb(a){if("function"==typeof a.ya)return a.ya();if(p(a))return a.split("");if(da(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return gb(a)}
function Gb(a,b){if("function"==typeof a.forEach)a.forEach(b,void 0);else if(da(a)||p(a))Ba(a,b,void 0);else{var c;if("function"==typeof a.da)c=a.da();else if("function"!=typeof a.ya)if(da(a)||p(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=hb(a);else c=void 0;for(var d=Fb(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}};function Hb(a,b){return a+Math.random()*(b-a)}function G(a,b,c){return Math.min(Math.max(a,b),c)};function Ib(a,b){this.H={};this.e=[];this.$=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Ib?(c=a.da(),d=a.ya()):(c=hb(a),d=gb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}g=Ib.prototype;g.ya=function(){Jb(this);for(var a=[],b=0;b<this.e.length;b++)a.push(this.H[this.e[b]]);return a};g.da=function(){Jb(this);return this.e.concat()};
g.remove=function(a){return Object.prototype.hasOwnProperty.call(this.H,a)?(delete this.H[a],this.$--,this.e.length>2*this.$&&Jb(this),!0):!1};function Jb(a){if(a.$!=a.e.length){for(var b=0,c=0;b<a.e.length;){var d=a.e[b];Object.prototype.hasOwnProperty.call(a.H,d)&&(a.e[c++]=d);b++}a.e.length=c}if(a.$!=a.e.length){for(var e={},c=b=0;b<a.e.length;)d=a.e[b],Object.prototype.hasOwnProperty.call(e,d)||(a.e[c++]=d,e[d]=1),b++;a.e.length=c}}
g.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.H,a)?this.H[a]:b};g.set=function(a,b){Object.prototype.hasOwnProperty.call(this.H,a)||(this.$++,this.e.push(a));this.H[a]=b};g.forEach=function(a,b){for(var c=this.da(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.xb=function(){return new Ib(this)};function Kb(){}Kb.prototype.wb=null;function Lb(a){var b;(b=a.wb)||(b={},Mb(a)&&(b[0]=!0,b[1]=!0),b=a.wb=b);return b};var Nb;function Ob(){}r(Ob,Kb);function Pb(a){return(a=Mb(a))?new ActiveXObject(a):new XMLHttpRequest}function Mb(a){if(!a.Db&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Db=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Db}Nb=new Ob;var Qb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?\x3d[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Rb=x;function Sb(a,b){if(Rb){Rb=!1;var c=k.location;if(c){var d=c.href;if(d&&(d=(d=Sb(3,d))&&decodeURIComponent(d))&&d!=c.hostname)throw Rb=!0,Error();}}return b.match(Qb)[a]||null};function Tb(a){C.call(this);this.headers=new Ib;this.Qa=a||null;this.S=!1;this.Pa=this.b=null;this.Da=this.fb="";this.fa=this.ab=this.Ca=this.Xa=!1;this.Na=0;this.Ma=null;this.lb=Ub;this.qb=this.Pc=!1}r(Tb,C);var Ub="",Vb=/^https?$/i,Wb=["POST","PUT"];g=Tb.prototype;
g.send=function(a,b,c,d){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.fb+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.fb=a;this.Da="";this.Xa=!1;this.S=!0;this.b=this.Qa?Pb(this.Qa):Pb(Nb);this.Pa=this.Qa?Lb(this.Qa):Lb(Nb);this.b.onreadystatechange=q(this.Kb,this);try{this.ab=!0,this.b.open(b,String(a),!0),this.ab=!1}catch(e){Xb(this,e);return}a=c||"";var f=this.headers.xb();d&&Gb(d,function(a,b){f.set(b,a)});d=Da(f.da());c=k.FormData&&a instanceof k.FormData;
!Fa(Wb,b)||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");f.forEach(function(a,b){this.b.setRequestHeader(b,a)},this);this.lb&&(this.b.responseType=this.lb);"withCredentials"in this.b&&(this.b.withCredentials=this.Pc);try{Yb(this),0<this.Na&&((this.qb=Zb(this.b))?(this.b.timeout=this.Na,this.b.ontimeout=q(this.Qb,this)):this.Ma=F(this.Qb,this.Na,this)),this.Ca=!0,this.b.send(a),this.Ca=!1}catch(h){Xb(this,h)}};
function Zb(a){return v&&y(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}function Ea(a){return"content-type"==a.toLowerCase()}g.Qb=function(){"undefined"!=typeof aa&&this.b&&(this.Da="Timed out after "+this.Na+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))};function Xb(a,b){a.S=!1;a.b&&(a.fa=!0,a.b.abort(),a.fa=!1);a.Da=b;$b(a);ac(a)}function $b(a){a.Xa||(a.Xa=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
g.abort=function(){this.b&&this.S&&(this.S=!1,this.fa=!0,this.b.abort(),this.fa=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ac(this))};g.Kb=function(){this.Ub||(this.ab||this.Ca||this.fa?bc(this):this.Fc())};g.Fc=function(){bc(this)};
function bc(a){if(a.S&&"undefined"!=typeof aa&&(!a.Pa[1]||4!=cc(a)||2!=dc(a)))if(a.Ca&&4==cc(a))F(a.Kb,0,a);else if(a.dispatchEvent("readystatechange"),4==cc(a)){a.S=!1;try{var b=dc(a),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=!0;break a;default:d=!1}if(!(c=d)){var e;if(e=0===b){var f=Sb(1,String(a.fb));if(!f&&self.location)var h=self.location.protocol,f=h.substr(0,h.length-1);e=!Vb.test(f?f.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");
else{var m;try{m=2<cc(a)?a.b.statusText:""}catch(T){m=""}a.Da=m+" ["+dc(a)+"]";$b(a)}}finally{ac(a)}}}function ac(a){if(a.b){Yb(a);var b=a.b,c=a.Pa[0]?ba:null;a.b=null;a.Pa=null;a.dispatchEvent("ready");try{b.onreadystatechange=c}catch(d){}}}function Yb(a){a.b&&a.qb&&(a.b.ontimeout=null);"number"==typeof a.Ma&&(k.clearTimeout(a.Ma),a.Ma=null)}g.bb=function(){return!!this.b};function cc(a){return a.b?a.b.readyState:0}function dc(a){try{return 2<cc(a)?a.b.status:-1}catch(b){return-1}}
function ec(a){try{if(!a.b)return null;if("response"in a.b)return a.b.response;switch(a.lb){case Ub:case "text":return a.b.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.b)return a.b.mozResponseArrayBuffer}return null}catch(b){return null}};var fc=!v||v&&9<=Wa,gc=!w&&!v||v&&v&&9<=Wa||w&&y("1.9.1");v&&y("9");function hc(a){a=a.className;return p(a)&&a.match(/\S+/g)||[]}function ic(a,b){for(var c=hc(a),d=Ja(arguments,1),e=c.length+d.length,f=c,h=0;h<d.length;h++)Fa(f,d[h])||f.push(d[h]);a.className=c.join(" ");return c.length==e}function jc(a,b){var c=hc(a),c=kc(c,Ja(arguments,1));a.className=c.join(" ")}function kc(a,b){return Ca(a,function(a){return!Fa(b,a)})}function lc(a,b,c){for(var d=hc(a),e=!1,f=0;f<d.length;f++)d[f]==b&&(Ia(d,f--,1),e=!0);e&&(d.push(c),a.className=d.join(" "))}
function H(a,b){return Fa(hc(a),b)}function I(a,b,c){c?ic(a,b):jc(a,b)};function mc(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}mc.prototype.xb=function(){return new mc(this.x,this.y)};mc.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};mc.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};function J(a){return p(a)?document.getElementById(a):a}function K(a,b){var c=b||document,d=null;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):nc("*",a,b)[0])||null}
function nc(a,b,c){var d=document;c=c||d;a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},e=0,f=0,h;h=c[f];f++)a==h.nodeName&&(d[e++]=h);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(f=e=0;h=c[f];f++)a=h.className,"function"==typeof a.split&&Fa(a.split(/\s+/),b)&&(d[e++]=h);d.length=e;return d}return c}
function oc(a,b){fb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in pc?a.setAttribute(pc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var pc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function L(a,b,c){var d=arguments,e=document,f=d[0],h=d[1];if(!fc&&h&&(h.name||h.type)){f=["\x3c",f];h.name&&f.push(' name\x3d"',oa(h.name),'"');if(h.type){f.push(' type\x3d"',oa(h.type),'"');var m={};lb(m,h);delete m.type;h=m}f.push("\x3e");f=f.join("")}f=e.createElement(f);h&&(p(h)?f.className=h:n(h)?ic.apply(null,[f].concat(h)):oc(f,h));2<d.length&&qc(e,f,d);return f}
function qc(a,b,c){function d(c){c&&b.appendChild(p(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];if(!da(f)||fa(f)&&0<f.nodeType)d(f);else{var h;a:{if(f&&"number"==typeof f.length){if(fa(f)){h="function"==typeof f.item||"string"==typeof f.item;break a}if(ea(f)){h="function"==typeof f.item;break a}}h=!1}Ba(h?Ha(f):f,d)}}}function rc(a){return gc&&void 0!=a.children?a.children:Ca(a.childNodes,function(a){return 1==a.nodeType})}function sc(a){this.aa=a||k.document||document}g=sc.prototype;
g.a=function(a){return p(a)?this.aa.getElementById(a):a};g.Ya=function(a,b){return K(a,b||this.aa)};g.createElement=function(a){return this.aa.createElement(a)};g.createTextNode=function(a){return this.aa.createTextNode(String(a))};g.appendChild=function(a,b){a.appendChild(b)};function tc(a){s.call(this);this.f=a;this.e={}}r(tc,s);var uc=[];g=tc.prototype;g.d=function(a,b,c,d){n(b)||(b&&(uc[0]=b.toString()),b=uc);for(var e=0;e<b.length;e++){var f=B(a,b[e],c||this.handleEvent,d||!1,this.f||this);if(!f)break;this.e[f.key]=f}return this};g.hb=function(a,b,c,d){return vc(this,a,b,c,d)};function vc(a,b,c,d,e,f){if(n(c))for(var h=0;h<c.length;h++)vc(a,b,c[h],d,e,f);else{b=xb(b,c,d||a.handleEvent,e,f||a.f||a);if(!b)return a;a.e[b.key]=b}return a}
g.pa=function(a,b,c,d,e){if(n(b))for(var f=0;f<b.length;f++)this.pa(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.f||this,c=rb(c),d=!!d,b=bb(a)?a.ea(b,c,d,e):a?(a=tb(a))?a.ea(b,c,d,e):null:null,b&&(zb(b),delete this.e[b.key]);return this};g.Mb=function(){fb(this.e,zb);this.e={}};g.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function M(a,b){p(b)?wc(a,void 0,b):fb(b,ka(wc,a))}function wc(a,b,c){var d;a:if(d=ya(c),void 0===a.style[d]&&(c=(x?"Webkit":w?"Moz":v?"ms":Pa?"O":null)+za(c),void 0!==a.style[c])){d=c;break a}d&&(a.style[d]=b)}function xc(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a};function yc(){}l(yc);yc.prototype.Ec=0;function N(a){C.call(this);this.va=a||na||(na=new sc)}r(N,C);g=N.prototype;g.yc=yc.c();g.F=null;g.ga=!1;g.N=null;g.kb=null;g.Ua=null;g.Ta=null;g.a=function(){return this.N};g.Ya=function(a){return this.N?this.va.Ya(a,this.N):null};function O(a){a.za||(a.za=new tc(a));return a.za}g.nb=function(a){if(this.kb&&this.kb!=a)throw Error("Method not supported");N.K.nb.call(this,a)};
function zc(a,b){if(a.ga)throw Error("Component already rendered");if(b){var c=9==b.nodeType?b:b.ownerDocument||b.document;a.va&&a.va.aa==c||(a.va=b?new sc(9==b.nodeType?b:b.ownerDocument||b.document):na||(na=new sc));a.M(b);a.O()}else throw Error("Invalid element to decorate");}g.M=function(a){this.N=a};g.O=function(){this.ga=!0;Ac(this,function(a){!a.ga&&a.a()&&a.O()})};function Bc(a){Ac(a,function(a){a.ga&&Bc(a)});a.za&&a.za.Mb();a.ga=!1}function Ac(a,b){a.Ua&&Ba(a.Ua,b,void 0)}
g.removeChild=function(a,b){if(a){var c=p(a)?a:a.F||(a.F=":"+(a.yc.Ec++).toString(36)),d;this.Ta&&c?(d=this.Ta,d=(c in d?d[c]:void 0)||null):d=null;a=d;if(c&&a){d=this.Ta;c in d&&delete d[c];Ga(this.Ua,a);b&&(Bc(a),a.N&&(c=a.N)&&c.parentNode&&c.parentNode.removeChild(c));c=a;if(null==c)throw Error("Unable to set parent component");c.kb=null;N.K.nb.call(c,null)}}if(!a)throw Error("Child is not in parent component");return a};var P,Q,Cc,Dc,R,S,Ec;function Fc(){N.call(this);this.B=null;this.la=P.registry;this.xa=this.Ib=this.Lb=null}r(Fc,N);
Fc.prototype.g=function(){this.B=L("div","",[L("div","deko-pug"),L("div","module life x3",[L("div","hearts")]),L("div","module points"),L("div","module level"),L("div","module boost",[L("div","bar-wrapper",[L("div","bar empty")])]),L("div","module action-msg"),L("div","game-handlers",[L("div","game-state pause")])]);var a=K("boost",this.B);this.la.addElement(a,"boost-cmp");this.Lb=K("points",this.B);this.Ib=K("level",this.B);this.la.addElement(this.B,"stat-display");Gc(this);this.la.addElement(this.Lb,
"point-count-el");this.la.addElement(this.Ib,"level-count-el");P.StatDisplay=this;a=this.la.a("stat-display")[0];a=K("game-handlers",a);this.xa=K("game-state",a);O(this).d(this.xa,"click",this.hc);a=U.c();O(this).d(a,[Hc,Ic,V,Jc],this.uc)};function Gc(a){K("playground").appendChild(a.B);F(function(){I(this.B,"visible",!0)},0,a)}
Fc.prototype.uc=function(a){if("pause"==a.type||"stopgame"==a.type)I(this.B,"visible",!1),lc(this.xa,"pause","continue");else if("continue"==a.type||"playagain"==a.type)I(this.B,"visible",!0),lc(this.xa,"continue","pause")};Fc.prototype.hc=function(){var a=P.gameStateController;R?a.ob():a.mb()};function U(){C.call(this)}r(U,C);l(U);function Kc(){N.call(this);this.ub=new D(Q.environment.clouds.updateTrigger);this.D=[];this.Bc=Math.round(Hb(Q.environment.clouds.amount.min,Q.environment.clouds.amount.max));this.Ac=Q.environment.clouds.classCount;this.ia=0;this.f=U.c()}r(Kc,N);g=Kc.prototype;g.M=function(a){Kc.K.M.call(this,a);this.Nb();B(this.f,Jc,this.$a,!1,this);B(this.f,V,this.Nb,!1,this)};g.O=function(){Kc.K.O.call(this);O(this).d(this.ub,E,this.Nc)};
g.Nc=function(){for(var a=0;a<this.D.length;a++){var b=this.D[a],c=-K("playground").offsetWidth,d=b.offsetWidth+b.offsetLeft+K("playground").offsetWidth;M(b,{left:G(Hb(c,d),0,K("playground").offsetWidth-b.offsetWidth)+"px"})}};
g.Nb=function(){var a="left "+(Q.environment.clouds.updateTrigger+1E3)/1E3+"s linear";if(0>=this.D.length)for(var b=1;b<=this.Bc;b++){var c=Math.round(Hb(1,this.Ac)),c=L("div","cloud c"+c);this.a().appendChild(c);M(c,{"-webkit-transition":a,"-moz-transition":a,"-o-transition":a,"-ms-transition":a,"transition:":a,left:this.ia+"px",top:c.offsetTop+Hb(-c.offsetHeight,c.offsetHeight)+"px"});this.ia=this.ia+c.offsetWidth-Math.round(Hb(50,c.offsetWidth/2));this.ia+c.offsetWidth+40>=K("playground").offsetWidth&&
(this.ia=c.offsetWidth-Math.round(Hb(50,150)));this.D.push(c)}else for(b=0;b<this.D.length;b++)I(this.D[b],"inactive",!1)};g.$a=function(){this.ub.stop();for(var a=0;a<this.D.length;a++)I(this.D[a],"inactive",!0)};function Lc(a,b,c){z.call(this,a);this.Dc=b;this.Gb=c||!1}r(Lc,z);function W(){N.call(this);this.Pb=null;this.Ja=0;this.pb=new D(5);this.ca=U.c()}r(W,N);l(W);W.prototype.g=function(){var a=P.registry.a("stat-display")[0];this.N=K("action-msg",a);this.Pb=K("playground");O(this).d(W.c(),"setmsg",this.Wb);O(this).d(this.pb,E,this.sc);O(this).d(this.ca,V,this.Tb)};W.prototype.Wb=function(a){var b=a.Dc;this.a().innerHTML="\x3cspan\x3e"+b+"\x3cspan\x3e";I(this.a(),"warning",a.Gb);a.Gb&&this.pb.start()};W.prototype.Tb=function(){this.a().innerHTML=""};
W.prototype.sc=function(){var a;a=this.Ja%2?"2px, -2px":"-2px, 2px";30<=this.Ja&&(this.pb.stop(),this.Ja=0,a="0px, 0px");M(this.Pb,{"-webkit-transform":"translate("+a+")"});this.Ja++};function Mc(a){z.call(this,a)}r(Mc,z);var Hc="pause",Ic="continue",Jc="stopgame",V="playagain";function Nc(){this.register={elements:[]}}l(Nc);Nc.prototype.addElement=function(a,b){b||(b="");ic(a,b);this.register.elements.push(a)};Nc.prototype.a=function(a){for(var b=[],c=0;c<this.register.elements.length;c++)H(this.register.elements[c],a)&&b.push(this.register.elements[c]);return b};function Oc(){this.b=new Tb;this.Za=!1}l(Oc);function Pc(a,b,c){a.Za=!0;!0==a.Za&&Cc==Q.highscore.accessKey&&c>=Q.highscore.pointsNeed&&a.b.send("/index.php?hs\x3dtrue\x26username\x3d"+Dc+"\x26level\x3d"+b+"\x26points\x3d"+c);B(a.b,"complete",function(){this.Za=!1;Cc=""},!1,a)};function Qc(){N.call(this);this.Va=this.X=null}r(Qc,N);Qc.prototype.g=function(){this.X=J("layer");this.Va=K("content",this.X);var a=K("close",this.X);O(this).d(a,"click",function(){Rc(this,!1)})};function Sc(a,b,c){c?I(a.X,c,!0):a.X.className="";c=new Tb;c.send("/app/views/"+b+".php");Rc(a,!0);O(a).d(c,"success",a.dc)}Qc.prototype.dc=function(a){var b;a=a.target;try{b=a.b?a.b.responseText:""}catch(c){b=""}this.Va.innerHTML=b;this.dispatchEvent(Tc)};
function Rc(a,b){I(a.X,"active",b);if(b){var c=L("div","loading-circle");a.Va.appendChild(c)}}var Tc="ready";function Uc(a,b){z.call(this,a);this.Oc=b||[]}r(Uc,z);function X(){N.call(this);this.p=[];this.ba=null}r(X,N);X.prototype.M=function(a){X.K.M.call(this,a);this.ba=this.Ya("error");this.ba||(this.ba=L("div","error"),a.appendChild(this.ba));a=nc("input","",a);for(var b=0;b<a.length;b++)this.p[a[b].id||a[b].name||a[b].type]={id:a[b].id,el:a[b],type:a[b].type,value:a[b].value}};X.prototype.O=function(){X.K.O.call(this);O(this).d(this.a(),"submit",this.vc)};
X.prototype.vc=function(a){a.preventDefault();for(var b in this.p)this.p[b].value=this.p[b].el.value;a:{for(var c in this.p)switch(this.p[c].type){case "text":if(""==this.p[c].el.value)Vc(this,"Please enter a username");else if(4>this.p[c].el.value.length)Vc(this,"You have to enter at least 4 signs");else if(20<this.p[c].el.value.length)Vc(this,"Username too big!");else{Vc(this,"");a=!0;break a}}a=!1}a&&this.dispatchEvent(new Uc("ready",this.p))};function Vc(a,b){a.ba.innerHTML="\x26raquo; "+b};function Wc(){N.call(this);this.q=null;this.G=new Qc}r(Wc,N);function Xc(a){a.q=J("menu");I(a.q,"inactive",!1);a.G.g()}function Yc(a,b,c,d){for(var e=rc(b),f=0;f<e.length;f++)O(a).d(e[f],"click",c);a=J("menu");a.innerHTML="";d&&(d=L("h2","",d),a.appendChild(d));a.appendChild(b)}function Zc(a){I(a.q,"inactive",!0)}g=Wc.prototype;
g.Aa=function(a){switch(a.target.innerHTML){case "Start":Sc(this.G,"name","dynamic");O(this).hb(this.G,Tc,this.nc);break;case "Highscores":this.Bb(a);break;case "How to play":Sc(this.G,"howto");break;case "Credits":Sc(this.G,"credits")}};g.nc=function(){var a=J("username-injection"),b=new X;zc(b,a);O(this).d(b,"ready",this.mc)};g.mc=function(a){Dc=a.Oc.username.value;Rc(this.G,!1);Zc(this);this.dispatchEvent($c)};
g.qc=function(a){switch(a.target.innerHTML){case "Continue":this.dispatchEvent(ad);break;case "How to play":this.Aa(a)}};g.Bb=function(a){switch(a.target.innerHTML){case "Play again":this.dispatchEvent(bd);break;case "How to play":this.Aa(a);break;case "Highscores":Sc(this.G,"highscores");O(this).d(this.G,Tc,this.ic);break;case "Credits":this.Aa(a)}};
g.ic=function(){var a=J("highscore-list"),b=new Tb;b.send("/?hsload\x3dtrue");O(this).d(b,"complete",function(b){b=ec(b.target);a.innerHTML=""!=b?b:"No highscore entrys found."})};var $c="mainStart",ad="pauseContinue",bd="lostRestart";function cd(){this.f=U.c();this.q=new Wc}l(cd);g=cd.prototype;g.g=function(){B(this.q,ad,this.mb,!1,this);B(this.q,bd,this.Cb,!1,this);B(this.f,"gameover",this.fc,!1,this);B(this.f,V,this.Cb,!1,this);B(window,"blur",this.ob,!1,this)};g.ob=function(){if(R&&!S){R=!1;Ec=!0;Y(!0);this.f.dispatchEvent(new Mc(Hc));var a=this.q;Xc(a);var b=L("div","submenu main",[L("div","button","Continue"),L("div","button","How to play")]);Yc(a,b,a.qc,"Pause")}};
g.mb=function(){R||S||(R=!0,Ec=!1,Y(!1),this.f.dispatchEvent(new Mc(Ic)),Zc(this.q))};
g.fc=function(){if(!S){R=!1;S=!0;Y(!0);this.f.dispatchEvent(new Mc(Jc));var a=this.q;Xc(a);var b=L("div","submenu main",[L("div","button","Play again"),L("div","button","Highscores"),L("div","button","How to play"),L("div","button","Credits")]),c=P.pointController,d=c.r.toString(),c=c.Q.toString(),d=L("div","user-info",[L("div","username",Dc),L("div","points","with "+d+" points"),L("div","level","reached lvl. "+c)]);Yc(a,b,a.Bb,"Game over");J("menu").appendChild(d);a=dd.c();b=Oc.c();Cc="73j\x26)1!\u00df\u00df34";
Pc(b,a.Q,a.r)}};g.Cb=function(){S&&(R=!0,S=!1,Y(!1),this.f.dispatchEvent(new Mc(V)),Zc(this.q))};function ed(){C.call(this);this.ha=!0;this.Ia=this.Ea=!1;Z={};this.Yb=P.gameStateController}var Z;r(ed,C);l(ed);ed.prototype.g=function(){B(window,["keyup","keydown"],this.lc,!1,this);Z={walk:!1,boost:!1,jump:!1}};function Y(a){var b=P.keyController;b.ha=a;Ec&&(b.dispatchEvent("stopwalkleft"),b.dispatchEvent("stopwalkright"))}
ed.prototype.lc=function(a){switch(a.keyCode){case 37:if("keydown"==a.type){if(this.ha)break;this.Ea||(this.Ea=!0,this.dispatchEvent("walkleft"),Z.walk=!0)}else"keyup"==a.type&&this.Ea&&(this.Ea=!1,this.dispatchEvent("stopwalkleft"),Z.walk=!1);break;case 39:if("keydown"==a.type){if(this.ha)break;this.Ia||(this.Ia=!0,this.dispatchEvent("walkright"),Z.walk=!0)}else"keyup"==a.type&&this.Ia&&(this.Ia=!1,this.dispatchEvent("stopwalkright"),Z.walk=!1);break;case 32:if(this.ha)break;"keyup"==a.type&&this.dispatchEvent("jump");
break;case 66:if(this.ha)break;"keydown"==a.type&&(this.dispatchEvent("boost"),Z.boost=!0);break;case 27:case 80:"keyup"==a.type&&(a=this.Yb,R?a.ob():a.mb())}};function fd(){C.call(this);this.m=gd;this.yb=this.startTime=null}r(fd,C);var gd=0;fd.prototype.o=function(a){this.dispatchEvent(a)};function hd(a,b,c){s.call(this);this.Jb=a;this.U=b||0;this.f=c;this.Sb=q(this.Vb,this)}r(hd,s);g=hd.prototype;g.F=0;g.start=function(a){this.stop();this.F=F(this.Sb,void 0!==a?a:this.U)};g.stop=function(){this.bb()&&k.clearTimeout(this.F);this.F=0};g.bb=function(){return 0!=this.F};g.Vb=function(){this.F=0;this.Jb&&this.Jb.call(this.f)};var jb={},id=null;function jd(a){a=a[ga]||(a[ga]=++ha);delete jb[a];ib()&&id&&id.stop()}function kd(){id||(id=new hd(function(){ld()},20));var a=id;a.bb()||a.start()}function ld(){var a=la();fb(jb,function(b){md(b,a)});ib()||kd()};function od(a,b,c,d){fd.call(this);if(!n(a)||!n(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.ma=a;this.Xb=b;this.duration=c;this.tb=d;this.coords=[]}r(od,fd);g=od.prototype;g.l=0;
g.play=function(a){if(a||this.m==gd)this.l=0,this.coords=this.ma;else if(1==this.m)return!1;jd(this);this.startTime=a=la();-1==this.m&&(this.startTime-=this.duration*this.l);this.yb=this.startTime+this.duration;this.l||this.o("begin");this.o("play");-1==this.m&&this.o("resume");this.m=1;var b=this[ga]||(this[ga]=++ha);b in jb||(jb[b]=this);kd();md(this,a);return!0};g.stop=function(a){jd(this);this.m=gd;a&&(this.l=1);pd(this,this.l);this.o("stop");this.o("end")};
g.pause=function(){1==this.m&&(jd(this),this.m=-1,this.o("pause"))};function md(a,b){a.l=(b-a.startTime)/(a.yb-a.startTime);1<=a.l&&(a.l=1);pd(a,a.l);1==a.l?(a.m=gd,jd(a),a.o("finish"),a.o("end")):1==a.m&&a.o("animate")}function pd(a,b){ea(a.tb)&&(b=a.tb(b));a.coords=Array(a.ma.length);for(var c=0;c<a.ma.length;c++)a.coords[c]=(a.Xb[c]-a.ma[c])*b+a.ma[c]}g.o=function(a){this.dispatchEvent(new qd(a,this))};
function qd(a,b){z.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.l=b.l;this.state=b.m}r(qd,z);function rd(){N.call(this);this.ib=new D(10);this.eb=new D(10);this.Oa=new D(Q.pug.walkAnimationMs);this.sb=[];this.ka="";this.La=Q.pug.moveSpeed;this.Hb=Q.pug.jumpSpeed;this.Cc=Q.pug.maxJumpHeight;this.w={};this.V={};this.cb=!1;this.h={};this.i={};this.L=null;this.qa=this.ra=!1;this.T=new od([0,1],[0,105],Q.module.boost.reloadingDelay);this.Ra=new D(10);this.sa=0;this.ca=U.c();this.J=sd.c()}r(rd,N);l(rd);g=rd.prototype;
g.M=function(a){rd.K.M.call(this,a);var b=P.registry.a("game-section")[0];this.h.left=a.offsetLeft;this.i.bottom=b.offsetHeight-(a.offsetTop+a.offsetHeight);this.w={min:0,max:b.offsetWidth-a.offsetWidth};this.V={min:this.i.bottom,max:b.offsetHeight-a.offsetHeight};this.sb=[0,-62,-124,-185];a=P.registry.a("boost-cmp")[0];this.L=K("bar",a)};
g.O=function(){O(this).d(this.ib,E,this.pc);O(this).d(this.eb,E,this.jc);O(this).d(this.Oa,E,this.wc);O(this).d(this.T,"animate",this.ac);O(this).d(this.T,"end",this.$b);O(this).d(this.Ra,E,this.bc);O(this).d(this.ca,[Hc,Ic,Jc,V],this.gc);O(this).d(this.ca,Jc,this.xc);B(this.ca,V,this.Jc,!1,this)};g.xc=function(){I(this.a(),"inactive",!0)};g.Jc=function(){I(this.a(),"inactive",!1)};
g.pc=function(){"left"==this.ka?this.h.left-=this.La:"right"==this.ka&&(this.h.left+=this.La);this.h.left=G(this.h.left,this.w.min,this.w.max);this.h.left<=this.w.min||this.h.left>=this.w.max?(I(this.a(),"walking",!1),this.Oa.stop()):(I(this.a(),"walking",!0),this.Oa.start());M(this.a(),{left:this.h.left+"px"})};function td(a,b){a.ka=b;a.ib.start();"right"==b?I(a.a(),"right",!0):I(a.a(),"right",!1)}g.stop=function(){this.ib.stop();this.Oa.stop();I(this.a(),"walking",!1)};
g.zc=function(){this.cb||(ud(this.J,"jump"),this.eb.start(),I(this.a(),"jumping",!0),this.cb=!0)};g.vb=function(){this.ra||this.qa?this.ra||!this.qa||H(this.a(),"jumping")||(this.stop(),ud(this.J,"boost"),Y(!0),this.Ra.start(),vd(this)):vd(this)};
g.bc=function(){"left"==this.ka?this.h.left-=this.La*Q.module.boost.speedIncicator:"right"==this.ka&&(this.h.left+=this.La*Q.module.boost.speedIncicator);this.i.bottom=this.sa<Q.module.boost.maxCount/2?this.i.bottom+Q.module.boost.pixelY:this.i.bottom-Q.module.boost.pixelY;this.h.left=G(this.h.left,this.w.min,this.w.max);M(this.a(),{left:this.h.left+"px",bottom:this.i.bottom+"px"});this.sa++;if(this.sa>=Q.module.boost.maxCount||this.h.left==this.w.max||this.h.left==this.w.min)this.Ra.stop(),this.sa=
0,M(this.a(),{bottom:this.V.min+"px"}),rd.c().dispatchEvent(wd),Y(!1)};g.ac=function(a){a=Number(G(a.y,1,100).toFixed(2));80<a&&(I(this.L,"loading",!1),I(this.L,"loaded",!0));M(this.L,{width:a+"%"})};g.$b=function(){this.ra=!1;this.qa=!0;I(this.L,"loading",!1);W.c().dispatchEvent(new Lc("setmsg","Boost loaded"))};function vd(a){a.T.play();a.ra=!0;a.qa=!1;I(a.L,"loading",!0);I(a.L,"empty",!1)}
g.gc=function(a){switch(a.type){case "pause":this.T.pause();break;case "continue":this.T.play();break;case "stopgame":this.T.stop();break;case "playagain":vd(this)}};g.wc=function(){this.rb=this.sb[this.rb+1]?this.rb+1:0;M(this.a(),{"background-position":"0 "+this.sb[this.rb]+"px"})};
g.jc=function(){this.i.bottom<=this.Cc&&!H(this.a(),"jumping-down")?this.i.bottom+=this.Hb:(this.i.bottom-=1.5*this.Hb,I(this.a(),"jumping-down",!0));this.i.bottom=G(this.i.bottom,this.V.min,this.V.max);M(this.a(),{bottom:this.i.bottom+"px"});this.i.bottom<=this.V.min&&(this.eb.stop(),I(this.a(),"jumping",!1),I(this.a(),"jumping-down",!1),this.i.bottom=this.V.min,this.cb=!1)};var wd="stopboost";function xd(){this.s=null;this.A=new rd}l(xd);xd.prototype.g=function(){this.s=L("div","pug-player",[L("div","mouth")]);var a=P.registry.a("game-section")[0];P.registry.addElement(this.s);a.appendChild(this.s);yd(this);zc(this.A,this.s);this.A.vb()};
function yd(a){B(P.keyController,"walkleft",function(){td(this.A,"left")},!1,a);B(P.keyController,"walkright",function(){td(this.A,"right")},!1,a);B(P.keyController,"stopwalkleft",function(){zd(this,"left")},!1,a);B(P.keyController,"stopwalkright",function(){zd(this,"right")},!1,a);B(P.keyController,"jump",a.kc,!1,a);B(P.keyController,"boost",a.cc,!1,a);B(rd.c(),wd,a.Zb,!1,a)}function zd(a,b){(H(a.s,"right")&&"right"==b||!H(a.s,"right")&&"left"==b)&&a.A.stop()}xd.prototype.kc=function(){this.A.zc()};
xd.prototype.cc=function(){this.A.vb()};xd.prototype.Zb=function(){Z.boost=!1;Z.walk?H(this.s,"right")?td(this.A,"right"):H(this.s,"right")||td(this.A,"left"):H(this.s,"right")?zd(this,"right"):H(this.s,"right")||zd(this,"left")};function Ad(){N.call(this);this.C=this.k=null;this.Fb=!1}r(Ad,N);
Ad.prototype.Ab=function(a){var b=P.registry.a("pug-player")[0],c=K("mouth",b),d=b.offsetTop,e=b.offsetTop+c.offsetHeight,f=H(b,"right")?b.offsetLeft+b.offsetWidth-c.offsetWidth:b.offsetLeft,b=H(b,"right")?b.offsetLeft+b.offsetWidth:b.offsetLeft+c.offsetWidth,c=this.k.offsetTop+this.k.offsetHeight/2,h=this.k.offsetLeft+this.k.offsetWidth/2;c>d&&c<e&&h>f&&h<b&&(this.Fb=!0,I(this.k,"eaten",!0),this.Wa());M(this.k,{top:Number(a.y.toFixed(0))+"px"})};
Ad.prototype.Wa=function(){O(this).pa(this.C,"animate",this.Ab);O(this).pa(this.C,"end",this.Wa);this.Fb?this.dispatchEvent(Bd):this.dispatchEvent(Cd)};var Cd="missed",Bd="eaten";function Dd(a,b){z.call(this,a);this.r=b}r(Dd,z);function Ed(){C.call(this);this.t=[];this.v={};this.Kc=Q.rain.spawnInterval;this.W=this.n=this.Ka=null;this.I=0;this.f=U.c();this.J=sd.c()}r(Ed,C);l(Ed);
Ed.prototype.g=function(){this.v={xS:0,xE:P.registry.a("game-section")[0].offsetWidth,yS:0,yE:P.registry.a("game-section")[0].offsetHeight};this.n=L("div","rain-wrapper");P.registry.a("game-section")[0].appendChild(this.n);P.registry.addElement(this.n);this.Ka=new D(this.Kc);B(this.Ka,E,this.tc,!1,this);var a=U.c();B(a,Hc,this.stop,!1,this);B(a,Ic,this.start,!1,this);B(a,Jc,this.$a,!1,this);B(a,V,this.Ic,!1,this)};Ed.prototype.newSpawnInterval=function(a){window.console.log(parseInt(a,10))};g=Ed.prototype;
g.start=function(){this.Ka.start();for(var a=0;a<this.t.length;a++)this.t[a].C.play()};g.Ic=function(){this.start();this.I=0;var a=P.registry.a("stat-display")[0],a=K("life",a);lc(a,"x0","x3")};g.stop=function(){this.Ka.stop();for(var a=0;a<this.t.length;a++)this.t[a].C.pause()};g.$a=function(){this.stop();this.t=[];for(var a=this.n,b;b=a.firstChild;)a.removeChild(b)};
g.tc=function(){var a=0;this.W?this.W.k.offsetLeft<this.v.xE/2?a=Number(this.W.k.offsetLeft+this.v.xE/3*Math.random()):this.W.k.offsetLeft>this.v.xE/2&&(a=Number(this.W.k.offsetLeft-this.v.xE/3*Math.random())):a=Number((Math.random()*this.v.xE).toFixed(0));var b=Number(this.v.yE+Q.rain.defaultSize),a=G(a,this.v.xS,this.v.xE-Q.rain.defaultSize),a=new mc(a,b),b=new Ad,c=L("div","drop "+Q.rain.dropClasses[Math.floor(Math.random()*Q.rain.dropClasses.length)]),d=a.x,e,f=w&&(Na||Ra)&&y("1.9");d instanceof
mc?(e=d.x,d=d.y):(e=d,d=-50);c.style.left=xc(e,f);c.style.top=xc(d,f);P.registry.a("rain-wrapper")[0].appendChild(c);b.k=c;b.C=new od([a.x,-50],[0,a.y],Q.rain.initialFallSpeed);O(b).d(b.C,"animate",b.Ab);O(b).d(b.C,"end",b.Wa);b.C.play();this.W=b;this.t.push(b);xb(b,Cd,this.oc,!1,this);xb(b,Bd,this.ec,!1,this)};
g.oc=function(a){3>this.I&&(this.I+=1);ud(this.J,"lost-drop");W.c().dispatchEvent(new Lc("setmsg","Lost life! "+G(3-this.I,0,3)+" left",!0));var b=P.registry.a("stat-display")[0],b=K("life",b);lc(b,"x"+Number(3-this.I+1),"x"+Number(3-this.I));this.t.splice(this.t.indexOf(a.target),1);3<=this.I?this.f.dispatchEvent(new Mc("gameover")):F(function(){this.n.removeChild(a.target.k)},200,this)};
g.ec=function(a){this.dispatchEvent(new Dd("add",a.target.k.offsetWidth));this.t.splice(this.t.indexOf(a.target),0);F(function(){this.n.removeChild(a.target.k)},0,this)};function dd(){C.call(this);this.Ga={};this.Fa=this.Q=this.ja=this.r=0;this.f=U.c();this.J=sd.c()}r(dd,C);l(dd);dd.prototype.g=function(a){a.push(this);this.Ga={points:P.registry.a("point-count-el")[0],level:P.registry.a("level-count-el")[0]};this.Fa=Q.levels[0][0];for(var b=0;b<a.length;b++)B(a[b],"add",this.rc,!1,this);this.dispatchEvent(new Dd("add","0"));Fd(this,!1);B(this.f,V,this.Hc,!1,this)};dd.prototype.Hc=function(){this.r=0;this.Ga.points.innerHTML=this.r;this.Q=0;Fd(this,!1);Gd(this)};
dd.prototype.rc=function(a){this.r+=Number(a.r);this.ja+=Number(a.r);this.Ga.points.innerHTML=this.r;Gd(this)};function Gd(a){for(var b=Q.levels,c=!1,d=0;d<b.length;d++)if(b[d][1]==a.Q+1&&(c=!0,a.Fa=b[d][0],a.ja>=a.Fa)){if(b[d][2]&&b[d][3]){var e=P[b[d][2]],f=b[d][3].split("(")[0],b=b[d][3].split("(")[1].replace(")","").split(", ");"function"==typeof e[f]&&e[f].apply(a,b)}Fd(a,!0);break}c||a.ja>=a.Fa&&Fd(a,!0)}
function Fd(a,b){a.ja=0;a.Q+=1;a.Ga.level.innerHTML=a.Q;ud(a.J,"lvlup");b&&W.c().dispatchEvent(new Lc("setmsg","Level up!"))};function Hd(){C.call(this);P={};S=Ec=R=!1}r(Hd,C);Hd.prototype.start=function(){P.registry=Nc.c();P.registry.addElement(J("game"),"game-section");P.statDisplay=new Fc;P.statDisplay.g();P.actionMsg=W.c();P.actionMsg.g();P.gameStateController=cd.c();P.gameStateController.g();P.keyController=ed.c();P.keyController.g();P.pugController=xd.c();P.pugController.g();P.rainController=Ed.c();P.rainController.g();P.pointController=dd.c();P.pointController.g([P.rainController]);F(this.Gc,100,this)};
Hd.prototype.Gc=function(){P.rainController.start();Y(!1);var a=L("div","cloud-wrapper");K("environment").appendChild(a);zc(new Kc,a);R=!0};function sd(){this.J=[];this.n=null}l(sd);sd.prototype.g=function(){var a=["boost","jump","lost-drop","lvlup"];this.n=L("div","sound-wrapper");for(var b=0;b<a.length;b++){var c=L("audio","audio-for-"+a[b]),d=L("source");d.src="/asset/common/sounds/"+a[b]+".wav";d.type="audio/wav";c.appendChild(d);this.n.appendChild(c);this.J.push(c)}J("game").appendChild(this.n)};function ud(a,b){K("audio-for-"+b,a.n).play()};function Id(){Dc="unnamed";Cc="";Jd(this)}function Jd(a){var b=new Tb;b.send("app/layout/jsonConfig.php");xb(b,"success",function(a){a=a.target;Q=a.b?Eb(a.b.responseText):void 0;sd.c().g();a=new Wc;Xc(a);var b=L("div","submenu main",[L("div","button","Start"),L("div","button","How to play"),L("div","button","Highscores"),L("div","button","Credits")]);Yc(a,b,a.Aa,"Bitpug");B(a,$c,this.Lc,!1,this)},!1,a)}Id.prototype.Lc=function(){(new Hd).start()};function Kd(){new Id}
var Ld=["bp","Initialize"],$=k;Ld[0]in $||!$.execScript||$.execScript("var "+Ld[0]);for(var Md;Ld.length&&(Md=Ld.shift());)Ld.length||void 0===Kd?$=$[Md]?$[Md]:$[Md]={}:$[Md]=Kd;})();